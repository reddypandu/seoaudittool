<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit Results</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
  
    <h2>Audit Report</h2>
    <div id="auditResults">
        <!-- Audit results will be displayed here -->
    </div>
<button id="print">Print</button>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
             // Show loading overlay
           
            // Parse the query parameter to get the audit results
            const urlParams = new URLSearchParams(window.location.search);
            const auditResultsQuery = urlParams.get('audit');
            const auditResults = JSON.parse(decodeURIComponent(auditResultsQuery));
          
            // Create a div element to contain audit results
            const auditDiv = document.createElement('div');

            // Set the content of the div with audit results
            auditDiv.innerHTML = `
                <h2>Title</h2>
                <p>You have a title tag of optimal length (between 10 and 70 characters).</p>
                <p>${auditResults.title}</p>
                <p>Length: ${auditResults.titleLen}</p>
                <h2>Meta Description:</h2>
                <p>Your page has a meta description of optimal length (between 70 and 160 characters).</p>
                <p>${auditResults.metaDescription}</p>
                <p>Length: ${auditResults.metaDescriptionLength}</p>
                <h2>Load Time:</h2>
                <p>${auditResults.loadtime}</p>
                <h2>Heading:</h2>
                <p>${auditResults.h1Content}</p>
                <h2>Number of H1 tags:</h2>
                <p>${auditResults.h1Count}</p>
                <h2>Number of images :</h2>
                <p>${auditResults.imagesC}</p>
                <h2>Number of images they Dosen't Have Alt:</h2>
                <p>${auditResults.imageA}</p>
                <h2>Canonical Tag</h2>
           <p>Your page is using the Canonical Tag.</p>
           <p>${auditResults.canonical}</p>

           <h2>Robots.txt</h2>
           <p>Your website appears to have a robots.txt file.</p>
           <p>${auditResults.robotsTxtExists}</p>
           <h2>Sitemap.xml</h2>
           <p>Your website appears to have a sitemap.xml file.</p>
           <p>${auditResults.sitemapUrl}</p>
           <h2>Analytics</h2>
           <p>Your page is using an analytics tool.</p>
           <p>${auditResults.googleAnalyticsStatus}</p>
               
                <h2>Screenshot:</h2>
                <img src="${auditResults.screenshot}" alt="Screenshot">
            `;
         
       
            // Append the audit div to the #auditResults div
            document.getElementById('auditResults').appendChild(auditDiv);
            //  document.getElementById('loadingOverlay').style.display = 'none';
          
        });
        document.getElementById('print').addEventListener('click', function() {
    // Hide elements outside of auditResults
    const elementsToHide = document.querySelectorAll('body > *:not(#auditResults)');
    elementsToHide.forEach(element => {
        element.style.display = 'none';
    });

   
    // Trigger browser's print functionality
    window.print();

   
});
   
 
    </script>
 
    
</body>
</html>
